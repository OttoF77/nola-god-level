:root{
  --sidebar-width: 260px;
  --sidebar-collapsed-width: 64px;
}

/* App shell layout */
.app-shell{ display:flex; min-height:100vh; }

.sidebar{
  position: fixed;
  top: 0; left: 0; bottom: 0;
  width: var(--sidebar-width);
  background: #fff;
  border-right: 1px solid #dee2e6;
  z-index: 1030; /* above content */
  transition: width .2s ease, transform .2s ease;
  overflow: auto;
}
.sidebar.collapsed{ width: var(--sidebar-collapsed-width); }

/* Sidebar content spacing */
.sidebar .p-2{ padding: .75rem !important; }

.content{ flex:1; margin-left: var(--sidebar-width); padding: 16px; }
.content.collapsed{ margin-left: var(--sidebar-collapsed-width); }

/* Small screens: sidebar overlays, content has no margin */
@media (max-width: 991.98px){
  .sidebar{ transform: translateX(-100%); width: var(--sidebar-width); }
  .sidebar.open{ transform: translateX(0); }
  .content, .content.collapsed{ margin-left: 0; }
  .topbar{ position: sticky; top: 0; z-index: 1010; background: #f8f9fa; }
  .backdrop{ position: fixed; inset: 0; background: rgba(0,0,0,.25); z-index: 1020; }
}

/* Utility: ensure footer spacing inside content */
.content footer{ margin-top: 2rem; }

/* Sidebar navigation */
.sidebar .nav{ padding: .5rem; }
.sidebar .nav-link{
  display: flex;
  align-items: center;
  gap: .5rem;
  color: #495057;
  border-radius: .375rem;
}
.sidebar .nav-link .bi{ font-size: 1.1rem; width: 1.25rem; text-align:center; }
.sidebar .nav-link:hover{ background: #f1f3f5; color: #212529; }
.sidebar .nav-link.active{ background: #e7f1ff; color: #0d6efd; }
.sidebar.collapsed .nav-label{ display: none; }
.sidebar.collapsed .nav-link{ justify-content: center; }

/* Chart height helpers (desktop/default) */
.chart-320{ height: 320px; }
.chart-380{ height: 380px; }
.chart-460{ height: 460px; }
.chart-480{ height: 480px; }

/* XS: shrink chart heights and tighten spacing */
@media (max-width: 575.98px){
  .chart-320{ height: 240px; }
  .chart-380{ height: 280px; }
  .chart-460{ height: 300px; }
  .chart-480{ height: 320px; }
  .content{ padding: 12px; }
  .card-body{ padding: .75rem; }
  h2{ font-size: 1.25rem; }
  .card-header{ padding: .5rem .75rem; }
  .table{ font-size: .9rem; }
}

/* SM: mild reduction */
@media (min-width: 576px) and (max-width: 767.98px){
  .chart-320{ height: 260px; }
  .chart-380{ height: 320px; }
  .chart-460{ height: 340px; }
  .chart-480{ height: 360px; }
}

/* Improve table wrapping for long content */
.table td, .table th{ vertical-align: middle; }
.table td{ word-break: break-word; }
